<?xml version="1.0"?>
<launch>
 <param name="uav_system_config_filename" value="$(find aerial_autonomy)/param/joystick_simulator_config.pbtxt" />
 <param name="log_config_filename" value="$(find aerial_autonomy)/param/log_config.pbtxt" />
  <arg name="log_level" default="0"/>
  <arg name="log_dir" default="$(find aerial_autonomy)/logs"/>
  <node pkg="aerial_autonomy" type="uav_joystick_control_node" name="uav_joystick_node">
    <remap from="~common/goal_pose_command" to="/rqt_gui/pose_command_combined" />
    <remap from="~common/event_manager" to="/rqt_gui/event_trigger" />
    <remap from="~common/system_status" to="/rqt_gui/system_status" />
    <env name="GLOG_log_dir" value="$(arg log_dir)"/>
    <env name="GLOG_v" value="$(arg log_level)"/>
    <env name="GLOG_alsologtostderr" value="1"/>
  </node>
  <node pkg="perceptin_ros" type="perceptin_simulator" name="perceptin_simulator" output="screen">
    <remap from="/perceptin_pose" to="/uav_joystick_node/uav/pose"/>
  </node>
  <node pkg="joy" type="joy_node" name="joy_rc">
    <remap from="/joy" to="/uav_joystick_node/uav/joy"/>
  </node>
  <node pkg="tf2_ros" type="static_transform_publisher"
    name="world_to_sensor_origin" args="0.1 0.0 0.1 0.0 1.57 0.0 world sensor_origin"/>
    <node pkg="tf2_ros" type="static_transform_publisher"
    name="quadsim_to_sensor" args="0.1 0.0 0.1 0.0 1.57 0.0 quad_sim sensor"/>
</launch>
